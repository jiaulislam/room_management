{% extends 'base.html' %}

{% block title %}
{{ title }}
{% endblock title %}


{% block content %}
<legend class="text-center border-bottom">List of meals</legend>
<table class='table table-sm table-striped'>
    <thead class="bg-warning">
        <tr class="text-center">
            <th>SL</th>
            <th>Date</th>
            <th>Name</th>
            <th>Meal Count</th>
            <th>Remarks</th>
            <th>Update</th>
            <th>Delete</th>
        </tr>
    </thead>
    {% for meal in paginated_meal %}
    <tr class="text-center">
        <td>{{forloop.counter}}</td>
        <td>{{ meal.date|date:'d-M-Y' }}</td>
        <td class='text-capitalize'>{{ meal.name.username }}</td>
        <td>{{ meal.meal_count }}</td>
        <td class='text-wrap text-uppercase'>{{ meal.description }}</td>
        <td><a href="{% url 'update-meal' meal.id %}" class="btn btn-sm btn-info text-uppercase">Update</a></td>
        <td><a href="{% url 'delete_meal' meal.id %}" class="btn btn-sm btn-danger text-uppercase">Delete</a></td>
    </tr>
{% empty %}
    <li>No data created</li>
{% endfor %}
</table>

<nav aria-label="Page Pagination">
    {% if items.has_other_pages %}
        <ul class="pagination justify-content-center">
            {% if items.has_previous %}
                <li class="page-item">
                    <a href="?page={{ items.previous_page_number }}" class="page-link"><span>&laquo;</span> Previous</a>
                </li>
            {% else %}
                <li class="page-item disabled">
                    <a href="#" class="page-link" aria-disabled="true"><span>&laquo;</span>
                        Previous</a>
                </li>
            {% endif %}

            {% for item in items.meal_list_paginator.page_range %}
                {% if items.number == item %}
                    <ul class="page-item active" aria-current="page">
                        <li><a href="#" class="page-link btn btn-default"><span>(current)</span>{{ items }} </a></li>
                    </ul>
                {% else %}
                    <ul class="page-item">
                        <li><a href="?page={{ item }}" class="page-link"></a>{{ items }}</li>
                    </ul>
                {% endif %}
            {% endfor %}

            {% if items.has_next %}
                <li class="page-item">
                    <a href="?page={{ items.next_page_number }}" class="page-link">Next <span>&raquo;</span></a>
                </li>
            {% endif %}
        </ul>
    {% endif %}
</nav>
{% endblock content %}